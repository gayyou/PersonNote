# DNS域名系统

### 概述

存在意义：人类很难记住一大长串32位的ip地址，所以需要有能够字面意思简单记住的标识来代替ip地址，从而产生了域名。

作用：DNS域名系统能够将域名转化为目标主机的ip地址

过程：当需要解析DNS域名的时候，主机向域名服务器发送请求解析域名的请求，即这是从客户机向服务器请求的过程。采用的是UDP协议。当DNS服务器获取解析不到的时候，此时的DNS服务器会变成一个客户机，向其他DNS服务器请求解析域名，直到解析成功或者超时为止。

### 互联网的域名结构

规则：

- 每个标号都由英文和数字组成，并且不超过63个字符。
- 不区分大小写。
- 总数不超过255个字符。
- 不限等级。
- 顶级域名由正规机构保管规定
- 采用树状结构。

### 域名服务器

一个域名服务器负责管辖的范围叫做区，每个区设置权限域名服务器，用来保存该区中的所有主机域名到ip的映射。DNS服务器不是以域名来作为单位，而是以区。

区可能小于域，但一定不能大于域。这句话怎么理解呢？

划分区的时候，一般是二级或者顶级域名下有一个区，这个区不能大于这个二级域名或者顶级域名，只能作为这个域名的子集。

#### 域名服务器解析：

- 根域名服务器：任何一个域名服务器无论是本地或者互联网上面的，只要无法解析域名，就需要求助于根域名服务器。世界上的根域名服务器使用了13个不同的ip地址的域名。这个根域名服务器的作用是告诉请求的本地域名服务器说顶级域名应该去哪里查询。
- 顶级域名服务器：负责该顶级域名服务器注册的所有二级域名。
- 权限域名服务器：负责一个区域名服务器。
- 本地域名服务器：最靠近的保存域名的服务器。当进行解析后的结果可以就近保存，从而方便第二次使用

### 域名查询方法：

- 主机向本地域名服务器进行查询的过程一般是递归查询：查询不到结果，这个DNS作为客户端向其他DNS服务器进行域名查询
- 迭代查询：本地服务器向根域名服务器进行查询的时候通常采用迭代查询。即遍历所有的根域名服务器。

区分就是递归是链式，迭代是总是由本地域名服务器发起的查询。

